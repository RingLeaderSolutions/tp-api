name: $(SourceBranchName)-$(Date:yyyyMMdd)$(Rev:.r)

pool:
  vmImage: 'Ubuntu 16.04'

variables:
  imageName: 'thetaplatformuiinstrumentsapi:$(build.buildNumber)'

trigger:
  branches:
    include:
    - '*'
  paths:
    include:
    - src/Theta.Platform.UI.Instruments.API/*

steps:
- script: docker build -f Theta.Platform.UI.Instruments.API/Dockerfile -t $(imageName) .
  displayName: 'docker build'
  workingDirectory: 'src'